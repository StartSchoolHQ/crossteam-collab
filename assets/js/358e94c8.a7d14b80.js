"use strict";(self.webpackChunkstart_school_wiki=self.webpackChunkstart_school_wiki||[]).push([[7584],{6660:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"WebAppWorkflow/LoginExample/9-database","title":"Database Interaction","description":"Cross Team Collaboration","source":"@site/docs/WebAppWorkflow/LoginExample/9.database.md","sourceDirName":"WebAppWorkflow/LoginExample","slug":"/WebAppWorkflow/LoginExample/9-database","permalink":"/crossteam-collabo/docs/WebAppWorkflow/LoginExample/9-database","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"title":"Database Interaction","description":"Cross Team Collaboration","id":"9-database"},"sidebar":"webAppWorkflowSidebar","previous":{"title":"Backend processing","permalink":"/crossteam-collabo/docs/WebAppWorkflow/LoginExample/8-be"},"next":{"title":"Complete structure","permalink":"/crossteam-collabo/docs/WebAppWorkflow/LoginExample/10-complete-workflow"}}');var t=n(4848),l=n(8453);const a={title:"Database Interaction",description:"Cross Team Collaboration",id:"9-database"},r=void 0,d={},o=[{value:"Sample Data",id:"sample-data",level:3},{value:"USERS TABLE",id:"users-table",level:4},{value:"SESSIONS TABLE",id:"sessions-table",level:4},{value:"Example Queries",id:"example-queries",level:3},{value:"Questions to explore in the code:",id:"questions-to-explore-in-the-code",level:3}];function c(e){const s={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"-- Users Table\nCREATE TABLE users (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Sessions Table\nCREATE TABLE sessions (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    user_id INTEGER NOT NULL,\n    token VARCHAR(255) UNIQUE NOT NULL,\n    expires_at TIMESTAMP NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users(id)\n);\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sample-data",children:"Sample Data"}),"\n",(0,t.jsx)(s.h4,{id:"users-table",children:"USERS TABLE"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"id"}),(0,t.jsx)(s.th,{children:"email"}),(0,t.jsx)(s.th,{children:"password_hash"}),(0,t.jsx)(s.th,{children:"created_at"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"mailto:alice@example.com",children:"alice@example.com"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"a1b2c3d4e5f6..."})}),(0,t.jsx)(s.td,{children:"2024-01-15 10:30:00"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"mailto:bob@example.com",children:"bob@example.com"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"x9y8z7w6v5u4..."})}),(0,t.jsx)(s.td,{children:"2024-02-20 14:15:00"})]})]})]}),"\n",(0,t.jsx)(s.h4,{id:"sessions-table",children:"SESSIONS TABLE"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"id"}),(0,t.jsx)(s.th,{children:"user_id"}),(0,t.jsx)(s.th,{children:"token"}),(0,t.jsx)(s.th,{children:"expires_at"}),(0,t.jsx)(s.th,{children:"created_at"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"7f3a9b2c..."})}),(0,t.jsx)(s.td,{children:"2024-12-04 10:30:00"}),(0,t.jsx)(s.td,{children:"2024-12-03 10:30:00"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"9d8e7f6g..."})}),(0,t.jsx)(s.td,{children:"2024-12-05 14:20:00"}),(0,t.jsx)(s.td,{children:"2024-12-04 14:20:00"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"5h4i3j2k..."})}),(0,t.jsx)(s.td,{children:"2024-12-06 09:15:00"}),(0,t.jsx)(s.td,{children:"2024-12-05 09:15:00"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"example-queries",children:"Example Queries"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"-- Query 1\nSELECT id, email, password_hash \nFROM users \nWHERE email = 'alice@example.com';\n-- Result:\n-- id=1, email='alice@example.com', password_hash='a1b2c3d4e5f6...'\n\n\n-- Query 2\nINSERT INTO sessions (user_id, token, expires_at)\nVALUES (1, '7f3a9b2c...', '2024-12-04 10:30:00');\n-- Result:\n-- New session created with id=1\n\n\n-- Query 3\nSELECT * \nFROM sessions \nWHERE user_id = 1;\n-- Result:\n-- Returns sessions with id=1 and id=2 (both belong to alice)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"questions-to-explore-in-the-code",children:"Questions to explore in the code:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"What are the two main tables in this database and what do they store?"}),"\n",(0,t.jsx)(s.li,{children:"What fields are required when creating a new user in the users table?"}),"\n",(0,t.jsx)(s.li,{children:"Looking at the sample data, which user (alice or bob) has more sessions?"}),"\n",(0,t.jsx)(s.li,{children:"Why is the token field marked as UNIQUE in the sessions table?"}),"\n",(0,t.jsx)(s.li,{children:"In Query 1, what information is being retrieved about the user?"}),"\n",(0,t.jsxs)(s.li,{children:["Write a query to find all sessions that belong to ",(0,t.jsx)(s.a,{href:"mailto:bob@example.com",children:"bob@example.com"})," (user_id = 2)"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);