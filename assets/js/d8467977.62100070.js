"use strict";(self.webpackChunkstart_school_wiki=self.webpackChunkstart_school_wiki||[]).push([[7471],{8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const t={},c=r.createContext(t);function l(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(c.Provider,{value:n},e.children)}},8882:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"BE/Task/be-task8","title":"Databases","description":"Understanding databases","source":"@site/docs/BE/Task/task8.md","sourceDirName":"BE/Task","slug":"/BE/Task/be-task8","permalink":"/crossteam-collab/docs/BE/Task/be-task8","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Databases","description":"Understanding databases","id":"be-task8"},"sidebar":"beSidebar","previous":{"title":"Databases","permalink":"/crossteam-collab/docs/BE/Task/be-task7"},"next":{"title":"Databases","permalink":"/crossteam-collab/docs/BE/Task/be-task9"}}');var t=s(4848),c=s(8453);const l={title:"Databases",description:"Understanding databases",id:"be-task8"},d=void 0,a={},i=[{value:"Part 2: Understanding the Complete Flow",id:"part-2-understanding-the-complete-flow",level:2},{value:"The Complete Journey",id:"the-complete-journey",level:3},{value:"Step-by-Step Flow",id:"step-by-step-flow",level:3},{value:"What You Should Notice",id:"what-you-should-notice",level:3}];function o(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"part-2-understanding-the-complete-flow",children:"Part 2: Understanding the Complete Flow"}),"\n",(0,t.jsx)(n.p,{children:"Now that you have all the code, let's trace what happens when a customer places an order."}),"\n",(0,t.jsx)(n.h3,{id:"the-complete-journey",children:"The Complete Journey"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Initial state of mock database (in server.js):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Backend database BEFORE any requests\nproducts = [\n    { id: 1, name: 'Laptop', price: 999, stock: 5 }\n]\norders = []\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-by-step-flow",children:"Step-by-Step Flow"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"FRONTEND (index.html + app.js)"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"User sees the page:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"index.html"})," loads"]}),"\n",(0,t.jsx)(n.li,{children:"Displays form for placing orders"}),"\n",(0,t.jsxs)(n.li,{children:["JavaScript in ",(0,t.jsx)(n.code,{children:"app.js"})," runs automatically"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Page loads products:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"app.js"})," calls ",(0,t.jsx)(n.code,{children:"loadProducts()"})," function"]}),"\n",(0,t.jsx)(n.li,{children:"Makes GET request to backend"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"User fills in the form:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Product ID: 1"}),"\n",(0,t.jsx)(n.li,{children:"Quantity: 2"}),"\n",(0,t.jsx)(n.li,{children:'Customer Name: "John Doe"'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:'User clicks "Place Order" button'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JavaScript collects the data (app.js):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'const orderData = {\n    productId: 1,\n    quantity: 2,\n    customerName: "John Doe"\n};\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JavaScript makes API call (app.js):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"fetch('http://localhost:3000/api/orders', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(orderData)\n})\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u2b07\ufe0f API REQUEST SENT OVER NETWORK \u2b07\ufe0f"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'POST /api/orders\nContent-Type: application/json\n\n{\n    "productId": 1,\n    "quantity": 2,\n    "customerName": "John Doe"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"BACKEND (server.js)"})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Express receives the request:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Routes to ",(0,t.jsx)(n.code,{children:"app.post('/api/orders')"})," handler"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend extracts data:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const { productId, quantity, customerName } = req.body;\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend validates the data:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2713 productId is present (1)"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 quantity is present (2)"}),"\n",(0,t.jsx)(n.li,{children:'\u2713 customerName is present ("John Doe")'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend queries mock database:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Calls ",(0,t.jsx)(n.code,{children:"getProductById(1)"})]}),"\n",(0,t.jsxs)(n.li,{children:["Finds: ",(0,t.jsx)(n.code,{children:"{ id: 1, name: 'Laptop', price: 999, stock: 5 }"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend checks business rules:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2713 Product exists"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 Stock available (5 >= 2)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend calculates total:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const total = 999 \xd7 2 = 1998\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend writes to mock database:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Creates new order\norders.push({\n    id: 1,\n    productId: 1,\n    productName: 'Laptop',\n    quantity: 2,\n    customerName: 'John Doe',\n    total: 1998,\n    createdAt: '2024-01-15T10:30:00Z'\n});\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend updates mock database:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Updates product stock\nproducts[0].stock = 3;  // was 5, now 3\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend sends response:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"res.status(201).json({\n    success: true,\n    message: 'Order created successfully',\n    order: { id: 1, total: 1998, ... }\n});\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u2b06\ufe0f API RESPONSE SENT OVER NETWORK \u2b06\ufe0f"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'HTTP 201 Created\nContent-Type: application/json\n\n{\n    "success": true,\n    "message": "Order created successfully",\n    "order": {\n        "id": 1,\n        "productId": 1,\n        "productName": "Laptop",\n        "quantity": 2,\n        "customerName": "John Doe",\n        "total": 1998,\n        "createdAt": "2024-01-15T10:30:00Z"\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"FRONTEND (app.js)"})}),"\n",(0,t.jsxs)(n.ol,{start:"16",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JavaScript receives the response"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JavaScript checks if successful:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"if (response.ok) {\n    showMessage('Order placed successfully!', 'success');\n}\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Frontend updates the display:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Shows green success message"}),"\n",(0,t.jsxs)(n.li,{children:["Reloads products (calls ",(0,t.jsx)(n.code,{children:"loadProducts()"})," again)"]}),"\n",(0,t.jsx)(n.li,{children:"Shows updated stock (now 3 instead of 5)"}),"\n",(0,t.jsx)(n.li,{children:"Clears the form"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"User sees confirmation:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Green message: "Order placed successfully! Order ID: 1, Total: $1998"'}),"\n",(0,t.jsx)(n.li,{children:"Stock updated in product display"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Final state of mock database (in server.js):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Backend database AFTER the request\nproducts = [\n    { id: 1, name: 'Laptop', price: 999, stock: 3 }  // \u2190 stock reduced from 5 to 3!\n]\norders = [\n    {\n        id: 1,\n        productId: 1,\n        productName: 'Laptop',\n        quantity: 2,\n        customerName: 'John Doe',\n        total: 1998,\n        createdAt: '2024-01-15T10:30:00Z'\n    }  // \u2190 new order created!\n]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"what-you-should-notice",children:"What You Should Notice"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Frontend and backend are separate"}),": They communicate via HTTP requests, not directly"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Frontend sends data"}),": Collected from user input in the form"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Backend validates everything"}),": Never trusts the frontend - checks all data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Backend manages data"}),": Database operations only happen in backend (server.js)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Backend sends result"}),": Frontend doesn't know about database, only gets response"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Frontend updates UI"}),": Based on the response received, shows success or error"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Console logs help"}),": Both sides log what they're doing (check browser console and terminal)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);